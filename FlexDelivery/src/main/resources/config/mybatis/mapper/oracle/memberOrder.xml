<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="config.mybatis.mapper.oracle.memberOrder">
	
	<insert id="insertOrder" parameterType="memberOrderVo">
		<selectKey keyProperty="ordersNo" order="BEFORE" resultType="int">
			select orders_seq.nextval from dual
		</selectKey>
		insert into orders(orders_no,orders_price,member_no,member_name,orders_payment,orders_pay_end_date,orders_address,orders_discount,orders_message,orders_hp,store_no)
		values (#{ordersNo},#{ordersPrice},#{memberNo},#{memberName},#{ordersPayment},sysdate,#{ordersAddress},#{ordersDiscount},#{ordersMessage},#{ordersHp},#{storeNo})
	</insert>
	
	<insert id="insertOrderDetail" parameterType="memberOrderDetailVo">
		insert into orderDetail
		values(#{ordersNo},#{menuNo},#{mOptionNo},#{oDetailQty})
	</insert>
</mapper>
